<!--
 * Copyright 2013 Graz University of Technology - KTI (Knowledge Technologies Institute)
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *-->
<!DOCTYPE html>
<html>
  <body>
    
    <script>
      function sendFile() {
        
        var xhr         = new XMLHttpRequest();
        var fileChooser = document.getElementById('fileChooser');
        var formData    = new FormData();
        
        formData.append("user",     "http://dt.ll/user/dt/");
        formData.append("file",     fileChooser.files[0]);
        formData.append("mimeType", fileChooser.files[0].type);
        formData.append("userKey",  "FischersFritzFischtFrischeFische");
        
        xhr.onreadystatechange = function(result){
          console.log(result);
        };
        
        xhr.open('POST', "rest/SSAdapterRest/fileUpload/", true);
        
        xhr.send(formData);  // multipart/form-data
      }
      
    </script>
    
    <input type="file" id="fileChooser" />
    
    <p>
      Select a file : <input type="submit" name="file" onclick="sendFile();" />
    </p>
    
  </body>
</html>